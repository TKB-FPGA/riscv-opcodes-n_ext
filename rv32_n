# rv32_n custom extension defined by M. Nishimura 2023.

# NS-type: send.w rs1, rs2
send.e rs1 rs2 31..25=0b0000001 14..12=0b000 11..7=0 6..2=0x02 1..0=3
send.w rs1 rs2 31..25=0b0000010 14..12=0b000 11..7=0 6..2=0x02 1..0=3
send.n rs1 rs2 31..25=0b0000100 14..12=0b000 11..7=0 6..2=0x02 1..0=3
send.s rs1 rs2 31..25=0b0001000 14..12=0b000 11..7=0 6..2=0x02 1..0=3
send.t rs1 rs2 31..25=0b0010000 14..12=0b000 11..7=0 6..2=0x02 1..0=3
send.b rs1 rs2 31..25=0b0100000 14..12=0b000 11..7=0 6..2=0x02 1..0=3
send.a rs1 rs2 31..25=0b1000000 14..12=0b000 11..7=0 6..2=0x02 1..0=3
send.k rs1 rs2 31..25=0b0000000 14..12=0b001 11..7=0 6..2=0x02 1..0=3
# TODO: You can add various send instruction using one-hot encoding

# NS-type: bcast rs1, rs2
bcast rs1 rs2 31..25=0b1111111 14..12=0b001 11..7=0 6..2=0x02 1..0=3
                       
# NR-type: recv.w rd
recv.e rd 31..25=0b0000001 24..20=0 19..15=0 14..12=0b100 6..2=0x02 1..0=3
recv.w rd 31..25=0b0000010 24..20=0 19..15=0 14..12=0b100 6..2=0x02 1..0=3
recv.n rd 31..25=0b0000100 24..20=0 19..15=0 14..12=0b100 6..2=0x02 1..0=3
recv.s rd 31..25=0b0001000 24..20=0 19..15=0 14..12=0b100 6..2=0x02 1..0=3
recv.t rd 31..25=0b0010000 24..20=0 19..15=0 14..12=0b100 6..2=0x02 1..0=3
recv.b rd 31..25=0b0100000 24..20=0 19..15=0 14..12=0b100 6..2=0x02 1..0=3
recv.a rd 31..25=0b1000000 24..20=0 19..15=0 14..12=0b100 6..2=0x02 1..0=3
recv.k rd 31..25=0b0000000 24..20=0 19..15=0 14..12=0b101 6..2=0x02 1..0=3

# Absolute relay instruction
# NR-type: relay.w.e rd
relay.e.w rd 31..25=0b0000001 24..20=0 19..15=0 14..12=0b000 6..2=0x0A 1..0=3
relay.w.e rd 31..25=0b0000010 24..20=0 19..15=0 14..12=0b000 6..2=0x0A 1..0=3
relay.n.s rd 31..25=0b0000100 24..20=0 19..15=0 14..12=0b000 6..2=0x0A 1..0=3
relay.s.n rd 31..25=0b0001000 24..20=0 19..15=0 14..12=0b000 6..2=0x0A 1..0=3
relay.t.b rd 31..25=0b0010000 24..20=0 19..15=0 14..12=0b000 6..2=0x0A 1..0=3
relay.b.t rd 31..25=0b0100000 24..20=0 19..15=0 14..12=0b000 6..2=0x0A 1..0=3
relay.a.k rd 31..25=0b1000000 24..20=0 19..15=0 14..12=0b000 6..2=0x0A 1..0=3
relay.k.a rd 31..25=0b0000000 24..20=0 19..15=0 14..12=0b001 6..2=0x0A 1..0=3

# Relative relay instruction
# NR-type: relay.sc.x rd
# 1d
relay.sc.x rd 31..25=0b0000001 24..20=0 19..15=0 14..12=0b100 6..2=0x0A 1..0=3
relay.sc.y rd 31..25=0b0000010 24..20=0 19..15=0 14..12=0b100 6..2=0x0A 1..0=3
relay.sc.z rd 31..25=0b0000100 24..20=0 19..15=0 14..12=0b100 6..2=0x0A 1..0=3
relay.sc.w rd 31..25=0b0001000 24..20=0 19..15=0 14..12=0b100 6..2=0x0A 1..0=3
relay.gt.x rd 31..25=0b0000001 24..20=0 19..15=0 14..12=0b110 6..2=0x0A 1..0=3
relay.gt.y rd 31..25=0b0000010 24..20=0 19..15=0 14..12=0b110 6..2=0x0A 1..0=3
relay.gt.z rd 31..25=0b0000100 24..20=0 19..15=0 14..12=0b110 6..2=0x0A 1..0=3
relay.gt.w rd 31..25=0b0001000 24..20=0 19..15=0 14..12=0b110 6..2=0x0A 1..0=3

# 2d: relay.sc.xy
relay.sc.xy 31..25=0b0000011 24..20=0 19..15=0 14..12=0b100 11..7=0 6..2=0x0A 1..0=3
relay.sc.xz 31..25=0b0000101 24..20=0 19..15=0 14..12=0b100 11..7=0 6..2=0x0A 1..0=3
relay.sc.xw 31..25=0b0001001 24..20=0 19..15=0 14..12=0b100 11..7=0 6..2=0x0A 1..0=3
relay.sc.yz 31..25=0b0000110 24..20=0 19..15=0 14..12=0b100 11..7=0 6..2=0x0A 1..0=3
relay.sc.yw 31..25=0b0001010 24..20=0 19..15=0 14..12=0b100 11..7=0 6..2=0x0A 1..0=3
relay.sc.zw 31..25=0b0001100 24..20=0 19..15=0 14..12=0b100 11..7=0 6..2=0x0A 1..0=3

relay.gt.xy 31..25=0b0000011 24..20=0 19..15=0 14..12=0b110 11..7=0 6..2=0x0A 1..0=3
relay.gt.xz 31..25=0b0000101 24..20=0 19..15=0 14..12=0b110 11..7=0 6..2=0x0A 1..0=3
relay.gt.xw 31..25=0b0001001 24..20=0 19..15=0 14..12=0b110 11..7=0 6..2=0x0A 1..0=3
relay.gt.yz 31..25=0b0000110 24..20=0 19..15=0 14..12=0b110 11..7=0 6..2=0x0A 1..0=3
relay.gt.yw 31..25=0b0001010 24..20=0 19..15=0 14..12=0b110 11..7=0 6..2=0x0A 1..0=3
relay.gt.zw 31..25=0b0001100 24..20=0 19..15=0 14..12=0b110 11..7=0 6..2=0x0A 1..0=3

# 3d
relay.sc.xyz 31..25=0b0000111 24..20=0 19..15=0 14..12=0b100 11..7=0 6..2=0x0A 1..0=3
relay.sc.xyw 31..25=0b0001011 24..20=0 19..15=0 14..12=0b100 11..7=0 6..2=0x0A 1..0=3
relay.sc.yzw 31..25=0b0001110 24..20=0 19..15=0 14..12=0b100 11..7=0 6..2=0x0A 1..0=3

relay.gt.xyz 31..25=0b0000111 24..20=0 19..15=0 14..12=0b110 11..7=0 6..2=0x0A 1..0=3
relay.gt.xyw 31..25=0b0001011 24..20=0 19..15=0 14..12=0b110 11..7=0 6..2=0x0A 1..0=3
relay.gt.yzw 31..25=0b0001110 24..20=0 19..15=0 14..12=0b110 11..7=0 6..2=0x0A 1..0=3

# 4d
relay.sc 31..25=0b0001111 24..20=0 19..15=0 14..12=0b100 11..7=0 6..2=0x0A 1..0=3

relay.gt 31..25=0b0001111 24..20=0 19..15=0 14..12=0b110 11..7=0 6..2=0x0A 1..0=3

# I-type?: scatter rs1
scatter.x   31..25=0b0000001 24..20=0 rs1 14..12=0b100 11..7=0 6..2=0x15 1..0=3
scatter.y   31..25=0b0000010 24..20=0 rs1 14..12=0b100 11..7=0 6..2=0x15 1..0=3
scatter.z   31..25=0b0000100 24..20=0 rs1 14..12=0b100 11..7=0 6..2=0x15 1..0=3
scatter.w   31..25=0b0001000 24..20=0 rs1 14..12=0b100 11..7=0 6..2=0x15 1..0=3
scatter.xy  31..25=0b0000011 24..20=0 rs1 14..12=0b100 11..7=0 6..2=0x15 1..0=3
scatter.xz  31..25=0b0000101 24..20=0 rs1 14..12=0b100 11..7=0 6..2=0x15 1..0=3
scatter.xw  31..25=0b0001001 24..20=0 rs1 14..12=0b100 11..7=0 6..2=0x15 1..0=3
scatter.yz  31..25=0b0000110 24..20=0 rs1 14..12=0b100 11..7=0 6..2=0x15 1..0=3
scatter.yw  31..25=0b0001010 24..20=0 rs1 14..12=0b100 11..7=0 6..2=0x15 1..0=3
scatter.zw  31..25=0b0001100 24..20=0 rs1 14..12=0b100 11..7=0 6..2=0x15 1..0=3
scatter.xyz 31..25=0b0000111 24..20=0 rs1 14..12=0b100 11..7=0 6..2=0x15 1..0=3
scatter.xyw 31..25=0b0001011 24..20=0 rs1 14..12=0b100 11..7=0 6..2=0x15 1..0=3
scatter.yzw 31..25=0b0001110 24..20=0 rs1 14..12=0b100 11..7=0 6..2=0x15 1..0=3
scatter     31..25=0b0001111 24..20=0 rs1 14..12=0b100 11..7=0 6..2=0x15 1..0=3

# R-type:  gather rs1, rs2
gather.x   31..25=0b0000001 rs1 rs2 14..12=0b110 11..7=0 6..2=0x15 1..0=3
gather.y   31..25=0b0000010 rs1 rs2 14..12=0b110 11..7=0 6..2=0x15 1..0=3
gather.z   31..25=0b0000100 rs1 rs2 14..12=0b110 11..7=0 6..2=0x15 1..0=3
gather.w   31..25=0b0001000 rs1 rs2 14..12=0b110 11..7=0 6..2=0x15 1..0=3
gather.xy  31..25=0b0000011 rs1 rs2 14..12=0b110 11..7=0 6..2=0x15 1..0=3
gather.xz  31..25=0b0000101 rs1 rs2 14..12=0b110 11..7=0 6..2=0x15 1..0=3
gather.xw  31..25=0b0001001 rs1 rs2 14..12=0b110 11..7=0 6..2=0x15 1..0=3
gather.yz  31..25=0b0000110 rs1 rs2 14..12=0b110 11..7=0 6..2=0x15 1..0=3
gather.yw  31..25=0b0001010 rs1 rs2 14..12=0b110 11..7=0 6..2=0x15 1..0=3
gather.zw  31..25=0b0001100 rs1 rs2 14..12=0b110 11..7=0 6..2=0x15 1..0=3
gather.xyz 31..25=0b0000111 rs1 rs2 14..12=0b110 11..7=0 6..2=0x15 1..0=3
gather.xyw 31..25=0b0001011 rs1 rs2 14..12=0b110 11..7=0 6..2=0x15 1..0=3
gather.yzw 31..25=0b0001110 rs1 rs2 14..12=0b110 11..7=0 6..2=0x15 1..0=3
gather     31..25=0b0001111 rs1 rs2 14..12=0b110 11..7=0 6..2=0x15 1..0=3

